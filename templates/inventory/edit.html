{% extends "base.html" %}

{% block title %}Edit Inventory Item - Restaurant Management{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Edit Inventory Item</h1>
</div>

<div class="content-box">
    <div class="box-header">Inventory Item Information</div>
    
    <form method="POST" action="{{ url_for('edit_inventory', inventory_id=item.inventory_id) }}">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <div class="field-group">
                <label for="item_name">Item Name *</label>
                <input type="text" 
                       name="item_name" 
                       id="item_name" 
                       class="input-field" 
                       value="{{ item.item_name }}"
                       required>
            </div>
            
            <div class="field-group">
                <label for="category">Category *</label>
                <select name="category" id="category" class="input-field" required>
                    <option value="Seafood" {% if item.category == 'Seafood' %}selected{% endif %}>Seafood</option>
                    <option value="Meat" {% if item.category == 'Meat' %}selected{% endif %}>Meat</option>
                    <option value="Vegetables" {% if item.category == 'Vegetables' %}selected{% endif %}>Vegetables</option>
                    <option value="Dairy" {% if item.category == 'Dairy' %}selected{% endif %}>Dairy</option>
                    <option value="Bakery" {% if item.category == 'Bakery' %}selected{% endif %}>Bakery</option>
                    <option value="Dry Goods" {% if item.category == 'Dry Goods' %}selected{% endif %}>Dry Goods</option>
                    <option value="Beverages" {% if item.category == 'Beverages' %}selected{% endif %}>Beverages</option>
                    <option value="Other" {% if item.category == 'Other' %}selected{% endif %}>Other</option>
                </select>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
            <div class="field-group">
                <label for="quantity">Current Quantity *</label>
                <input type="number" 
                       name="quantity" 
                       id="quantity" 
                       class="input-field" 
                       value="{{ item.quantity }}"
                       step="0.01"
                       min="0"
                       required>
            </div>
            
            <div class="field-group">
                <label for="unit">Unit *</label>
                <select name="unit" id="unit" class="input-field" required>
                    <option value="lbs" {% if item.unit == 'lbs' %}selected{% endif %}>lbs</option>
                    <option value="kg" {% if item.unit == 'kg' %}selected{% endif %}>kg</option>
                    <option value="oz" {% if item.unit == 'oz' %}selected{% endif %}>oz</option>
                    <option value="g" {% if item.unit == 'g' %}selected{% endif %}>g</option>
                    <option value="L" {% if item.unit == 'L' %}selected{% endif %}>L</option>
                    <option value="gal" {% if item.unit == 'gal' %}selected{% endif %}>gal</option>
                    <option value="units" {% if item.unit == 'units' %}selected{% endif %}>units</option>
                    <option value="boxes" {% if item.unit == 'boxes' %}selected{% endif %}>boxes</option>
                    <option value="cans" {% if item.unit == 'cans' %}selected{% endif %}>cans</option>
                    <option value="bottles" {% if item.unit == 'bottles' %}selected{% endif %}>bottles</option>
                    <option value="heads" {% if item.unit == 'heads' %}selected{% endif %}>heads</option>
                    <option value="balls" {% if item.unit == 'balls' %}selected{% endif %}>balls</option>
                    <option value="count" {% if item.unit == 'count' %}selected{% endif %}>count</option>
                </select>
            </div>
            
            <div class="field-group">
                <label for="minimum_stock_level">Minimum Stock Level *</label>
                <input type="number" 
                       name="minimum_stock_level" 
                       id="minimum_stock_level" 
                       class="input-field" 
                       value="{{ item.minimum_stock_level }}"
                       step="0.01"
                       min="0"
                       required>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1rem;">
            <div class="field-group">
                <label for="supplier_name">Supplier Name</label>
                <input type="text" 
                       name="supplier_name" 
                       id="supplier_name" 
                       class="input-field"
                       value="{{ item.supplier_name or '' }}">
            </div>
            
            <div class="field-group">
                <label for="unit_cost">Unit Cost ($)</label>
                <input type="number" 
                       name="unit_cost" 
                       id="unit_cost" 
                       class="input-field" 
                       value="{{ item.unit_cost or 0 }}"
                       step="0.01"
                       min="0">
            </div>
        </div>
        
        <div class="info-box">
            <strong>Last Restocked:</strong> {{ item.last_restocked_date or 'Never' }}
        </div>
        
        <div style="margin-top: 1.5rem;">
            <button type="submit" class="button button-primary">Update Item</button>
            <a href="{{ url_for('inventory_list') }}" class="button">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}